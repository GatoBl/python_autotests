import requests
import pytest

URL = 'https://api.pokemonbattle.ru/v2'
TOKKEN = '49653b801ddd9ec018dded7208e940a6'
HEADER = {'Content-Type' : 'application/json','trainer_token':TOKKEN}
TRAINER_ID = '24791'

def test_status_code():
    response = requests.get(url=f'{URL}/pokemons', params={'trainer_id' : TRAINER_ID})
    assert response.status_code ==200

def test_city():
    response_get = requests.get(url=f'{URL}/pokemons', params={'trainer_id' : TRAINER_ID})
    assert  response_get.json()["data"][0] ["name"] == 'Veloceraptor'
    
@pytest.mark.parametrize('key,value', [('name', 'Veloceraptor'),('trainer_id', TRAINER_ID),('id', '238219')])
def test_parametrize(key,value):
    response_parametrize = requests.get(url=f'{URL}/pokemons', params={'trainer_id' : TRAINER_ID})
    assert response_parametrize.json()['data'][0][key]==value

    '{"status":"success","data":[{"id":"237808","name":"Veloceraptor","stage":"1","photo_id":5,"attack":1,"trainer_id":"24791","status":1,"in_pokeball":0},{"id":"237807","name":"Veloceraptor","stage":"1","photo_id":5,"attack":1,"trainer_id":"24791","status":1,"in_pokeball":0},{"id":"237806","name":"Veloceraptor","stage":"1","photo_id":5,"attack":1,"trainer_id":"24791","status":1,"in_pokeball":0},{"id":"237805","name":"Veloceraptor","stage":"1","photo_id":5,"attack":1,"trainer_id":"24791","status":1,"in_pokeball":0},{"id":"227341","name":"Велоцераптор","stage":"1","photo_id":4,"attack":1,"trainer_id":"24791","status":0,"in_pokeball":0},{"id":"227300","name":"Велоцераптор","stage":"1","photo_id":4,"attack":1,"trainer_id":"24791","status":0,"in_pokeball":0},{"id":"227298","name":"Велоцераптор","stage":"1","photo_id":6,"attack":1,"trainer_id":"24791","status":0,"in_pokeball":0},{"id":"205488","name":"Велоцераптор","stage":"2","photo_id":4,"attack":3,"trainer_id":"24791","status":0,"in_pokeball":0},{"id":"205486","name":"Велоцераптор","stage":"1","photo_id":4,"attack":1,"trainer_id":"24791","status":0,"in_pokeball":0},{"id":"205485","name":"Велоцераптор","stage":"1","photo_id":4,"attack":2,"trainer_id":"24791","status":0,"in_pokeball":0},{"id":"205484","name":"Велоцераптор","stage":"3","photo_id":4,"attack":5,"trainer_id":"24791","status":0,"in_pokeball":0},{"id":"205483","name":"Велоцераптор","stage":"1","photo_id":4,"attack":2,"trainer_id":"24791","status":0,"in_pokeball":0},{"id":"205482","name":"Велоцераптор","stage":"1","photo_id":4,"attack":1,"trainer_id":"24791","status":0,"in_pokeball":0},{"id":"197605","name":"Bryana","stage":"1","photo_id":12,"attack":1,"trainer_id":"24791","status":0,"in_pokeball":0},{"id":"197603","name":"Велоцераптор","stage":"2","photo_id":4,"attack":3,"trainer_id":"24791","status":0,"in_pokeball":0},{"id":"197601","name":"Велоцераптор","stage":"1","photo_id":6,"attack":1,"trainer_id":"24791","status":0,"in_pokeball":0},{"id":"197575","name":"Велоцераптор","stage":"1","photo_id":6,"attack":1,"trainer_id":"24791","status":0,"in_pokeball":0},{"id":"197574","name":"Велоцераптор","stage":"1","photo_id":6,"attack":1,"trainer_id":"24791","status":0,"in_pokeball":0},{"id":"197573","name":"Велоцераптор","stage":"1","photo_id":6,"attack":1,"trainer_id":"24791","status":0,"in_pokeball":0},{"id":"195858","name":"Велоцераптор","stage":"3","photo_id":4,"attack":7,"trainer_id":"24791","status":0,"in_pokeball":0},{"id":"195857","name":"Велоцераптор","stage":"1","photo_id":4,"attack":1,"trainer_id":"24791","status":0,"in_pokeball":0},{"id":"195856","name":"Велоцераптор","stage":"1","photo_id":4,"attack":1,"trainer_id":"24791","status":0,"in_pokeball":0},{"id":"195855","name":"Велоцераптор","stage":"1","photo_id":4,"attack":1,"trainer_id":"24791","status":0,"in_pokeball":0},{"id":"195854","name":"Велоцераптор","stage":"1","photo_id":4,"attack":1,"trainer_id":"24791","status":0,"in_pokeball":0},{"id":"195853","name":"Велоцераптор","stage":"2","photo_id":4,"attack":3,"trainer_id":"24791","status":0,"in_pokeball":0},{"id":"195774","name":"Велоцераптор","stage":"1","photo_id":6,"attack":2,"trainer_id":"24791","status":0,"in_pokeball":0},{"id":"195773","name":"Велоцераптор","stage":"1","photo_id":6,"attack":2,"trainer_id":"24791","status":0,"in_pokeball":0},{"id":"195772","name":"Велоцераптор","stage":"1","photo_id":6,"attack":1,"trainer_id":"24791","status":0,"in_pokeball":0},{"id":"195771","name":"Велоцераптор","stage":"2","photo_id":6,"attack":4,"trainer_id":"24791","status":0,"in_pokeball":0},{"id":"195770","name":"Madelyn","stage":"1","photo_id":12,"attack":1,"trainer_id":"24791","status":0,"in_pokeball":0},{"id":"195465","name":"Велоцераптор","stage":"1","photo_id":6,"attack":1,"trainer_id":"24791","status":0,"in_pokeball":0},{"id":"195464","name":"Велоцераптор","stage":"2","photo_id":6,"attack":3,"trainer_id":"24791","status":0,"in_pokeball":0},{"id":"195463","name":"Велоцераптор","stage":"1","photo_id":6,"attack":1,"trainer_id":"24791","status":0,"in_pokeball":0},{"id":"195458","name":"Велоцераптор","stage":"1","photo_id":6,"attack":1,"trainer_id":"24791","status":0,"in_pokeball":0},{"id":"195361","name":"Велоцераптор","stage":"1","photo_id":6,"attack":1,"trainer_id":"24791","status":0,"in_pokeball":0},{"id":"195357","name":"Alaina","stage":"1","photo_id":12,"attack":1,"trainer_id":"24791","status":0,"in_pokeball":0}],"next_page":false}'